"use strict";(self.webpackChunkapito_website_v_2=self.webpackChunkapito_website_v_2||[]).push([[6473],{3905:(e,t,n)=>{n.d(t,{Zo:()=>d,ah:()=>p,kt:()=>u});var a=n(67294);function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){r(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function l(e,t){if(null==e)return{};var n,a,r=function(e,t){if(null==e)return{};var n,a,r={},o=Object.keys(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||(r[n]=e[n]);return r}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)n=o[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var s=a.createContext({}),p=function(e){var t=a.useContext(s),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},d=function(e){var t=p(e.components);return a.createElement(s.Provider,{value:t},e.children)},c={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},g=a.forwardRef((function(e,t){var n=e.components,r=e.mdxType,o=e.originalType,s=e.parentName,d=l(e,["components","mdxType","originalType","parentName"]),g=p(n),u=r,m=g["".concat(s,".").concat(u)]||g[u]||c[u]||o;return n?a.createElement(m,i(i({ref:t},d),{},{components:n})):a.createElement(m,i({ref:t},d))}));function u(e,t){var n=arguments,r=t&&t.mdxType;if("string"==typeof e||r){var o=n.length,i=new Array(o);i[0]=g;var l={};for(var s in t)hasOwnProperty.call(t,s)&&(l[s]=t[s]);l.originalType=e,l.mdxType="string"==typeof e?e:r,i[1]=l;for(var p=2;p<o;p++)i[p]=n[p];return a.createElement.apply(null,i)}return a.createElement.apply(null,n)}g.displayName="MDXCreateElement"},58315:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>s,contentTitle:()=>i,default:()=>c,frontMatter:()=>o,metadata:()=>l,toc:()=>p});var a=n(87462),r=(n(67294),n(3905));const o={title:"Using the Login Token in your Application",sidebar_label:"Login Token",image:"https://cdn.apito.io/media/apito_documentation/P60Y961Q0H_Apito_Console___Edit_A_Role.png",keywords:["database model","api design","api","database normalization","nosql","nosql database design"]},i=void 0,l={unversionedId:"extensions/auth/using-login-token",id:"extensions/auth/using-login-token",title:"Using the Login Token in your Application",description:"Login token is equivalent to API_SECRET in Apito. Those token could be used alternatively with each other.",source:"@site/docs/extensions/auth/using-login-token.mdx",sourceDirName:"extensions/auth",slug:"/extensions/auth/using-login-token",permalink:"/docs/extensions/auth/using-login-token",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/extensions/auth/using-login-token.mdx",tags:[],version:"current",frontMatter:{title:"Using the Login Token in your Application",sidebar_label:"Login Token",image:"https://cdn.apito.io/media/apito_documentation/P60Y961Q0H_Apito_Console___Edit_A_Role.png",keywords:["database model","api design","api","database normalization","nosql","nosql database design"]},sidebar:"docs",previous:{title:"Login API",permalink:"/docs/extensions/auth/login"},next:{title:"Using Cloud Functions",permalink:"/docs/category/using-cloud-functions"}},s={},p=[{value:"API Permission",id:"api-permission",level:3},{value:"Calling an API using Login Token",id:"calling-an-api-using-login-token",level:2}],d={toc:p};function c(e){let{components:t,...n}=e;return(0,r.kt)("wrapper",(0,a.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,r.kt)("head",null,(0,r.kt)("meta",{property:"og:type",content:"article"})),(0,r.kt)("p",null,"Login token is equivalent to ",(0,r.kt)("inlineCode",{parentName:"p"},"API_SECRET")," in Apito. Those token could be used alternatively with each other.\nThe main difference between those thow is how they are generated and what roles are they assigned to. Both ",(0,r.kt)("inlineCode",{parentName:"p"},"API_SECRET")," and Login token operates on a ",(0,r.kt)("inlineCode",{parentName:"p"},"Role"),"."),(0,r.kt)("p",null,"Whenever a Login Token is generated either via Login or Register it operates on a Role (The role that is given during Authentication AddOn Configuration).\nSo generally speaking all the logged-in user will have access to that permissions given to that role."),(0,r.kt)("p",null,"Let's say if these are the permissions that are assigned to role ",(0,r.kt)("inlineCode",{parentName:"p"},"authuser")),(0,r.kt)("h3",{id:"api-permission"},"API Permission"),(0,r.kt)("table",null,(0,r.kt)("thead",{parentName:"table"},(0,r.kt)("tr",{parentName:"thead"},(0,r.kt)("th",{parentName:"tr",align:"left"},"Model"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Read"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Create"),(0,r.kt)("th",{parentName:"tr",align:"left"},"Update"),(0,r.kt)("th",{parentName:"tr",align:"center"},"Delete"))),(0,r.kt)("tbody",{parentName:"table"},(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Product"),(0,r.kt)("td",{parentName:"tr",align:"left"},"All"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"center"},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Category"),(0,r.kt)("td",{parentName:"tr",align:"left"},"All"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"center"},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Order"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Personal data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"Personal data"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"center"},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"Store"),(0,r.kt)("td",{parentName:"tr",align:"left"},"All"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"left"},"None"),(0,r.kt)("td",{parentName:"tr",align:"center"},"None")),(0,r.kt)("tr",{parentName:"tbody"},(0,r.kt)("td",{parentName:"tr",align:"left"},"..."),(0,r.kt)("td",{parentName:"tr",align:"left"},"..."),(0,r.kt)("td",{parentName:"tr",align:"left"},"..."),(0,r.kt)("td",{parentName:"tr",align:"left"},"..."),(0,r.kt)("td",{parentName:"tr",align:"center"},"...")))),(0,r.kt)("p",null,"As we can see user can read Product, Category, Store and only Their Personal Order. They are also allowed to create their own order but they cant update or delete anything.\nSo an authenticated login token has this permission embedded into them and api will work accordingly."),(0,r.kt)("p",null,"Lets say if you use Login token to call Order Delete then you will get an error."),(0,r.kt)("img",{alt:"Inspect a Role",width:"auto",height:"auto",src:"https://cdn.apito.io/media/apito_documentation/P60Y961Q0H_Apito_Console___Edit_A_Role.png"}),(0,r.kt)("h2",{id:"calling-an-api-using-login-token"},"Calling an API using Login Token"),(0,r.kt)("p",null,"Let's say after the user is logged in, You want to show the logged-in users their personal Orders."),(0,r.kt)("pre",null,(0,r.kt)("code",{parentName:"pre",className:"language-bash"},'curl -X GET "https://api.apito.io/secured/rest/project-id/orders"\n-H  "accept: application/json"\n-H  "Authorization: Bearer LOGIN_TOKEN"\n-H  "Content-Type: application/json"\n')))}c.isMDXComponent=!0}}]);